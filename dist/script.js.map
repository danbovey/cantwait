{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/downsample-lttb/index.js","webpack:///./src/waveform.js","webpack:///./node_modules/social-share-kit/dist/js/social-share-kit.min.js","webpack:///./src/script.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","processData","series","threshold","data","data_length","length","max_area_point","max_area","area","next_a","sampled","sampled_index","every","a","avg_x","avg_y","avg_range_start","floor","avg_range_end","avg_range_length","range_offs","range_to","point_a_x","point_a_y","abs","largestTriangleThreeBuckets","Math","downsampler","el","waveform","hasChildNodes","removeChild","lastChild","maxBars","round","offsetWidth","samples","map","forEach","sample","bar","document","createElement","classList","add","style","height","appendChild","SocialShareKit","e","querySelectorAll","className","match","y","u","h","title","f","text","image","via","shareUrl","options","shareUrlEncoded","encodeURIComponent","this","replace","networkUrl","onBeforeOpen","url","window","location","href","indexOf","getAttribute","parentNode","push","innerHTML","w","share","share_count","twitter","countCallback","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","setRequestHeader","send","v","JSON","parse","result","metadata","globalCounts","count","shares","random","body","VK","Share","services","gplus","cb","src","k","b","g","U","selector","nodes","event","preventDefault","returnValue","cancelBubble","currentTarget","srcElement","twttr","setAttribute","documentElement","clientWidth","clientHeight","focus","onOpen","onClose","setInterval","closed","clearInterval","reinitialize","_skkListener","removeEventListener","detachEvent","addEventListener","attachEvent","split","forceInit","init","createWaveform","widgets","widget","SC","Widget","querySelector","trackArtwork","trackArtworkLink","trackTitle","trackWaveform","trackPermalink","btnPlay","iconPlay","iconPause","btnSharer","sharer","currentSoundId","displayTrack","track","id","artwork","artwork_url","permalink","permalink_url","textContent","fetch","waveform_url","then","res","json","wave","shareLinks","link","dataset","Events","READY","getCurrentSound","PLAY","display","currentSound","PAUSE","PLAY_PROGRESS","player","bars","filled","ceil","relativePosition","background","color","waveformOffset","getBoundingClientRect","left","waveformWidth","percent","clientX","getDuration","duration","seekTo","play","toggle"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports.processData = function(series, threshold) {\r\n\treturn largestTriangleThreeBuckets(series, threshold);\r\n}\r\n\r\nvar floor = Math.floor,\r\n\tabs = Math.abs;\r\n\r\nfunction largestTriangleThreeBuckets(data, threshold) {\r\n\r\n\tvar data_length = data.length;\r\n\tif (threshold >= data_length || threshold === 0) {\r\n\t\treturn data; // Nothing to do\r\n\t}\r\n\r\n\tvar sampled = [],\r\n\t\tsampled_index = 0;\r\n\r\n\t// Bucket size. Leave room for start and end data points\r\n\tvar every = (data_length - 2) / (threshold - 2);\r\n\r\n\tvar a = 0,  // Initially a is the first point in the triangle\r\n\t\tmax_area_point,\r\n\t\tmax_area,\r\n\t\tarea,\r\n\t\tnext_a;\r\n\r\n\tsampled[ sampled_index++ ] = data[ a ]; // Always add the first point\r\n\r\n\tfor (var i = 0; i < threshold - 2; i++) {\r\n\r\n\t\t// Calculate point average for next bucket (containing c)\r\n\t\tvar avg_x = 0,\r\n\t\t\tavg_y = 0,\r\n\t\t\tavg_range_start  = floor( ( i + 1 ) * every ) + 1,\r\n\t\t\tavg_range_end    = floor( ( i + 2 ) * every ) + 1;\r\n\t\tavg_range_end = avg_range_end < data_length ? avg_range_end : data_length;\r\n\r\n\t\tvar avg_range_length = avg_range_end - avg_range_start;\r\n\r\n\t\tfor ( ; avg_range_start<avg_range_end; avg_range_start++ ) {\r\n\t\t  avg_x += data[ avg_range_start ][ 0 ] * 1; // * 1 enforces Number (value may be Date)\r\n\t\t  avg_y += data[ avg_range_start ][ 1 ] * 1;\r\n\t\t}\r\n\t\tavg_x /= avg_range_length;\r\n\t\tavg_y /= avg_range_length;\r\n\r\n\t\t// Get the range for this bucket\r\n\t\tvar range_offs = floor( (i + 0) * every ) + 1,\r\n\t\t\trange_to   = floor( (i + 1) * every ) + 1;\r\n\r\n\t\t// Point a\r\n\t\tvar point_a_x = data[ a ][ 0 ] * 1, // enforce Number (value may be Date)\r\n\t\t\tpoint_a_y = data[ a ][ 1 ] * 1;\r\n\r\n\t\tmax_area = area = -1;\r\n\r\n\t\tfor ( ; range_offs < range_to; range_offs++ ) {\r\n\t\t\t// Calculate triangle area over three buckets\r\n\t\t\tarea = abs( ( point_a_x - avg_x ) * ( data[ range_offs ][ 1 ] - point_a_y ) -\r\n\t\t\t\t\t\t( point_a_x - data[ range_offs ][ 0 ] ) * ( avg_y - point_a_y )\r\n\t\t\t\t\t  ) * 0.5;\r\n\t\t\tif ( area > max_area ) {\r\n\t\t\t\tmax_area = area;\r\n\t\t\t\tmax_area_point = data[ range_offs ];\r\n\t\t\t\tnext_a = range_offs; // Next a is this b\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsampled[ sampled_index++ ] = max_area_point; // Pick this point from the bucket\r\n\t\ta = next_a; // This a is the next a (chosen b)\r\n\t}\r\n\r\n\tsampled[ sampled_index++ ] = data[ data_length - 1 ]; // Always add last\r\n\r\n\treturn sampled;\r\n}\r\n\r\n","const downsampler = require('downsample-lttb');\n\n/**\n * @param {Node} el The waveform element\n * @param {array} waveform The waveform JSON\n */\nconst createWaveform = (el, waveform) => {\n  // Empty waveform element\n  while (el.hasChildNodes()) {\n    el.removeChild(el.lastChild);\n  }\n\n  // The amount of bars the waveform can hold in the current viewport\n  const maxBars = Math.round(el.offsetWidth / 5);\n\n  // Convert samples into graph plots [1, 140], [2, 90]\n  let samples = waveform.samples.map((s, i) => [i, s]);\n  // Resample array to the amount of bars we want\n  samples = downsampler.processData(samples, maxBars);\n  // Convert graph plots back into int array\n  samples = samples.map(s => s[1]);\n\n  samples.forEach(sample => {\n    const bar = document.createElement('div');\n    bar.classList.add('bar');\n    bar.style.height = (40 * (sample / waveform.height)) + 'px';\n    el.appendChild(bar);\n  });\n};\n\nmodule.exports = createWaveform;","/*!\n * Social Share Kit v1.0.15 (http://socialsharekit.com)\n * Copyright 2015 Social Share Kit / Kaspars Sprogis.\n * @Licensed under Creative Commons Attribution-NonCommercial 3.0 license:\n * https://github.com/darklow/social-share-kit/blob/master/LICENSE\n * ---\n */\nvar SocialShareKit=function(){function e(e){return b(e).share()}function t(e){\"loading\"!=document.readyState?e():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",e):document.attachEvent(\"onreadystatechange\",function(){\"loading\"!=document.readyState&&e()})}function n(e){return document.querySelectorAll(e)}function r(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function o(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent(\"on\"+t,function(){n.call(e)})}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent(\"on\"+t,n)}function a(e){return e.className.match(y)}function c(e){var t=e||window.event;return t.preventDefault?t.preventDefault():(t.returnValue=!1,t.cancelBubble=!0),t.currentTarget||t.srcElement}function s(e,t,n){var r,o,i,a;return t&&n?(o=document.documentElement.clientWidth/2-t/2,i=(document.documentElement.clientHeight-n)/2,a=\"status=1,resizable=yes,width=\"+t+\",height=\"+n+\",top=\"+i+\",left=\"+o,r=window.open(e,\"\",a)):r=window.open(e),r.focus(),r}function u(e,t,n){var r,o=h(e,t,n),i=d(e,t,n,o),a=\"undefined\"!=typeof o.title?o.title:l(t),c=\"undefined\"!=typeof o.text?o.text:p(t),s=o.image?o.image:f(\"og:image\"),u=\"undefined\"!=typeof o.via?o.via:f(\"twitter:site\"),m={shareUrl:i,title:a,text:c,image:s,via:u,options:e,shareUrlEncoded:function(){return encodeURIComponent(this.shareUrl)}};switch(t){case\"facebook\":r=\"https://www.facebook.com/share.php?u=\"+m.shareUrlEncoded();break;case\"twitter\":r=\"https://twitter.com/intent/tweet?url=\"+m.shareUrlEncoded()+\"&text=\"+encodeURIComponent(a+(c&&a?\" - \":\"\")+c),u&&(r+=\"&via=\"+u.replace(\"@\",\"\"));break;case\"google-plus\":r=\"https://plus.google.com/share?url=\"+m.shareUrlEncoded();break;case\"pinterest\":r=\"https://pinterest.com/pin/create/button/?url=\"+m.shareUrlEncoded()+\"&description=\"+encodeURIComponent(c),s&&(r+=\"&media=\"+encodeURIComponent(s));break;case\"tumblr\":r=\"https://www.tumblr.com/share/link?url=\"+m.shareUrlEncoded()+\"&name=\"+encodeURIComponent(a)+\"&description=\"+encodeURIComponent(c);break;case\"linkedin\":r=\"https://www.linkedin.com/shareArticle?mini=true&url=\"+m.shareUrlEncoded()+\"&title=\"+encodeURIComponent(a)+\"&summary=\"+encodeURIComponent(c);break;case\"vk\":r=\"https://vkontakte.ru/share.php?url=\"+m.shareUrlEncoded();break;case\"buffer\":r=\"https://buffer.com/add?source=button&url=\"+m.shareUrlEncoded()+\"&text=\"+encodeURIComponent(c);break;case\"email\":r=\"mailto:?subject=\"+encodeURIComponent(a)+\"&body=\"+encodeURIComponent(a+\"\\n\"+i+\"\\n\\n\"+c+\"\\n\")}return m.networkUrl=r,e.onBeforeOpen&&e.onBeforeOpen(n,t,m),m.networkUrl}function d(e,t,n,r){return r=r||h(e,t,n),r.url||window.location.href}function l(e){var t;return\"twitter\"==e&&(t=f(\"twitter:title\")),t||document.title}function p(e){var t;return\"twitter\"==e&&(t=f(\"twitter:description\")),t||f(\"description\")}function f(e,t){var r,o=n(\"meta[\"+(t?t:0===e.indexOf(\"og:\")?\"property\":\"name\")+'=\"'+e+'\"]');return o.length&&(r=o[0].getAttribute(\"content\")||\"\"),r||\"\"}function h(e,t,n){var r,o,i,a,c=[\"url\",\"title\",\"text\",\"image\"],s={},u=n.parentNode;\"twitter\"==t&&c.push(\"via\");for(a in c)o=c[a],i=\"data-\"+o,r=n.getAttribute(i)||u.getAttribute(i)||(e[t]&&\"undefined\"!=typeof e[t][o]?e[t][o]:e[o]),\"undefined\"!=typeof r&&(s[o]=r);return s}function m(e,t){var n=document.createElement(\"div\");n.innerHTML=t,n.className=\"ssk-num\",e.appendChild(n)}function w(e,t,n,r){var o,i,a,c=encodeURIComponent(t);switch(e){case\"facebook\":o=\"https://graph.facebook.com/?id=\"+c,i=function(e){return r(e.share?e.share.share_count:0)};break;case\"twitter\":n&&n.twitter&&n.twitter.countCallback&&n.twitter.countCallback(t,r);break;case\"google-plus\":return o=\"https://clients6.google.com/rpc?key=AIzaSyCKSbrvQasunBoV16zDH9R33D88CeLr9gQ\",a='[{\"method\":\"pos.plusones.get\",\"id\":\"p\",\"params\":{\"id\":\"'+t+'\",\"userId\":\"@viewer\",\"groupId\":\"@self\",\"nolog\":true},\"jsonrpc\":\"2.0\",\"key\":\"p\",\"apiVersion\":\"v1\"}]',i=function(e){if(e=JSON.parse(e),e.length)return r(e[0].result.metadata.globalCounts.count)},void v(o,i,a);case\"linkedin\":o=\"https://www.linkedin.com/countserv/count/share?url=\"+c,i=function(e){return r(e.count)};break;case\"pinterest\":o=\"https://api.pinterest.com/v1/urls/count.json?url=\"+c,i=function(e){return r(e.count)};break;case\"vk\":o=\"https://vk.com/share.php?act=count&url=\"+c,i=function(e){return r(e)};break;case\"buffer\":o=\"https://api.bufferapp.com/1/links/shares.json?url=\"+c,i=function(e){return r(e.shares)}}o&&i&&k(e,o,i,a)}function v(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&t(this.responseText)},r.open(\"POST\",e,!0),r.setRequestHeader(\"Content-Type\",\"application/json\"),r.send(n)}function k(e,t,n){var r=\"cb_\"+e+\"_\"+Math.round(1e5*Math.random()),o=document.createElement(\"script\");return window[r]=function(e){try{delete window[r]}catch(e){}document.body.removeChild(o),n(e)},\"vk\"==e?window.VK={Share:{count:function(e,t){window[r](t)}}}:\"google-plus\"==e&&(window.services={gplus:{cb:window[r]}}),o.src=t+(t.indexOf(\"?\")>=0?\"&\":\"?\")+\"callback=\"+r,document.body.appendChild(o),!0}var b,g,y=/(twitter|facebook|google-plus|pinterest|tumblr|vk|linkedin|buffer|email)/,U=\"*|*\";return g=function(e){var t=e||{},r=t.selector||\".ssk\";this.nodes=n(r),this.options=t},g.prototype={share:function(){function e(e){var t,n=c(e),r=a(n),o=r[0];if(r&&(t=u(p,o,n))){if(window.twttr&&n.getAttribute(\"href\").indexOf(\"twitter.com/intent/\")!==-1)return void n.setAttribute(\"href\",t);if(\"email\"!==o){var i,d;\"buffer\"===o?(i=800,d=680):(i=575,d=400);var l=s(t,i,d);if(p.onOpen&&p.onOpen(n,o,t,l),p.onClose)var f=window.setInterval(function(){l.closed!==!1&&(window.clearInterval(f),p.onClose(n,o,t,l))},250)}else document.location=t}}function n(){var e,t;for(e in f)t=e.split(U),function(e){w(t[0],t[1],p,function(t){for(var n in e)m(e[n],t)})}(f[e])}var l=this.nodes,p=this.options,f={},h=function(){l.length&&(r(l,function(t){var n,r=a(t);if(r){if(t.getAttribute(\"data-ssk-ready\")){if(!p.reinitialize||!t._skkListener)return;i(t,\"click\",t._skkListener)}t.setAttribute(\"data-ssk-ready\",!0),o(t,\"click\",e),t._skkListener=e,t.parentNode.className.indexOf(\"ssk-count\")!==-1&&(r=r[0],n=r+U+d(p,r,t),n in f||(f[n]=[]),f[n].push(t))}}),n())};return p.forceInit===!0?h():t(h),this.nodes}},b=function(e){return new g(e)},{init:e}}();window.SocialShareKit=SocialShareKit;\n","require('social-share-kit');\n\nconst createWaveform = require('./waveform');\nrequire('./scss/style.scss');\n\nSocialShareKit.init();\n\nconst widgets = document.querySelectorAll('.player');\n[].forEach.call(widgets, el => {\n  const widget = SC.Widget(el.querySelector('.soundcloud-widget'));\n\n  const trackArtwork = el.querySelector('.track-artwork');\n  const trackArtworkLink = el.querySelector('.track-artwork-link');\n  const trackTitle = el.querySelector('.track-title');\n  const trackWaveform = el.querySelector('.waveform');\n  const trackPermalink = el.querySelector('.track-permalink');\n  const btnPlay = el.querySelector('.btn-play');\n  const iconPlay = el.querySelector('.icon-play');\n  const iconPause = el.querySelector('.icon-pause');\n  const btnSharer = el.querySelector('.track-share');\n  const sharer = el.querySelector('.sharer');\n\n  let currentSoundId = null;\n\n  const displayTrack = track => {\n    // Store which track is currently playing\n    currentSoundId = track.id;\n\n    const artwork = track.artwork_url.replace('large', 't500x500');\n    trackArtwork.setAttribute('src', artwork);\n\n    const title = track.title;\n    const permalink = track.permalink_url;\n    trackTitle.textContent = title;\n    trackPermalink.setAttribute('href', permalink);\n    trackArtworkLink.setAttribute('href', permalink);\n\n    // Load the waveform JSON file\n    window.fetch(track.waveform_url)\n      .then(res => res.json())\n      .then(wave => {\n        createWaveform(trackWaveform, wave);\n        window.addEventListener('resize', () => createWaveform(trackWaveform, wave));\n      });\n    \n    // Update the links in the social sharer\n    const shareLinks = sharer.querySelectorAll('a');\n    let text = '';\n    if(title.indexOf('Can\\'t Wait Mix') == 0) {\n      text += 'Listen to this hour long mix of house, chill and world music!';\n    } else {\n      text += 'This track is worth a listen!';\n    }\n    [].forEach.call(shareLinks, link => {\n      link.dataset.title = title;\n      link.dataset.text = text;\n      link.dataset.url = permalink;\n      link.dataset.image = artwork;\n    });\n  };\n\n  widget.bind(SC.Widget.Events.READY, () => {\n    widget.getCurrentSound(displayTrack);\n  });\n  widget.bind(SC.Widget.Events.PLAY, () => {\n    iconPlay.style.display = 'none';\n    iconPause.style.display = 'block';\n\n    widget.getCurrentSound(currentSound => {\n      if (currentSound !== currentSoundId) {\n        // Display the new track\n        displayTrack(currentSound);\n      }\n    });\n  });\n  widget.bind(SC.Widget.Events.PAUSE, () => {\n    iconPause.style.display = 'none';\n    iconPlay.style.display = 'block';\n  });\n  widget.bind(SC.Widget.Events.PLAY_PROGRESS, player => {\n    // Fill bars based on progress\n    const bars = trackWaveform.querySelectorAll('.bar');\n    const filled = Math.ceil(bars.length * player.relativePosition);\n    for(let i = 0; i < filled; i++) {\n      bars[i].style.background = el.dataset.color || '#FA03D8';\n    }\n  });\n\n  const waveformOffset = trackWaveform.getBoundingClientRect().left;\n  const waveformWidth = trackWaveform.clientWidth;\n  trackWaveform.addEventListener('click', e => {\n    // Reset waveform fill\n    const bars = trackWaveform.querySelectorAll('.bar');\n    bars.forEach(bar => {\n      bar.style.background = '#FFF';\n    });\n\n    const percent = (e.clientX - waveformOffset) / waveformWidth;\n    widget.getDuration(duration => {\n      widget.seekTo(duration * percent);\n      // In case we aren't playing yet\n      widget.play();\n    });\n  });\n\n  btnPlay.addEventListener('click', () => widget.toggle());\n\n  btnSharer.addEventListener('click', () => {\n    if(sharer.style.display !== 'flex') {\n      sharer.style.display = 'flex';\n    } else {\n      sharer.style.display = 'none';\n    }\n  });\n});\n"],"sourceRoot":""}